(this["webpackJsonpreact-test-app"]=this["webpackJsonpreact-test-app"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var s=n(1),i=n.n(s),c=n(8),a=n.n(c),r=n(3),o=n(4),l=n(2),u=n(6),m=n(5),h=(n(14),n(9)),d=(n(15),n(0)),p=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(t){var s;return Object(r.a)(this,n),(s=e.call(this,t)).state={time:null,timeZone:null},s.updateTime=s.updateTime.bind(Object(l.a)(s)),s.startTimer=s.startTimer.bind(Object(l.a)(s)),s}return Object(o.a)(n,[{key:"fillZeros",value:function(t){return t.toString().length<2?"0"+t:t.toString()}},{key:"startTimer",value:function(){this.timer=setInterval(this.updateTime,1e3)}},{key:"updateTime",value:function(){var t=this.state.time;t.seconds++,60===t.seconds&&(t.seconds=0,t.minutes++),60===t.minutes&&(t.minutes=0,t.hours++),24===t.hours&&(t.hours=0),this.setState({time:t})}},{key:"getTimeFromUTCString",value:function(t){var e=t.match(/(\d{2}):(\d{2}):(\d{2})/)[0].split(":"),n=Object(h.a)(e,3);return{hours:n[0],minutes:n[1],seconds:n[2]}}},{key:"componentDidMount",value:function(){var t,e=this;t="local"===this.props.timeZone?"https://worldtimeapi.org/api/ip":"https://worldtimeapi.org/api/timezone/".concat(this.props.timeZone),this._asyncRequest=fetch(t).then((function(t){return t.json()})).then((function(t){e._asyncRequest=null,e.setState({time:e.getTimeFromUTCString(t.datetime),timeZone:"".concat(t.timezone," ").concat(t.utc_offset)})})).then((function(){return e.startTimer()})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.time;return null===this.state.time?Object(d.jsx)("div",{className:"clock__preloader"}):(Object.keys(e).map((function(n,s){return e[n]=t.fillZeros(e[n])})),Object(d.jsxs)("div",{className:"clock",children:[Object(d.jsxs)("p",{className:"clock__time",children:[Object(d.jsx)("span",{className:"clock__time__number",children:e.hours}),":",Object(d.jsx)("span",{className:"clock__time__number",children:e.minutes}),":",Object(d.jsx)("span",{className:"clock__time__number",children:e.seconds})]}),Object(d.jsx)("p",{className:"clock__description",children:this.state.timeZone})]}))}}]),n}(i.a.Component),j=(n(17),function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this,e=this.state.time;if(null===this.state.time)return Object(d.jsx)("div",{className:"smallclock",children:Object(d.jsx)("div",{className:"smallclock__preloader"})});Object.keys(e).map((function(n,s){return e[n]=t.fillZeros(e[n])}));var n=this.state.timeZone.split(" ")[0].split("/"),s=1===n.length?n[0]:"".concat(n[n.length-1].split("_").join(" ")," (").concat(n[0],")");return Object(d.jsxs)("div",{className:"smallclock",children:[Object(d.jsxs)("p",{className:"smallclock__time",children:[Object(d.jsx)("span",{className:"smallclock__time__number",children:e.hours}),":",Object(d.jsx)("span",{className:"smallclock__time__number",children:e.minutes}),":",Object(d.jsx)("span",{className:"smallclock__time__number",children:e.seconds})]}),Object(d.jsx)("p",{className:"smallclock__description",children:s})]})}}]),n}(p)),b=function(t){Object(u.a)(n,t);var e=Object(m.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={responseList:null,randomList:null},t.fillRandomList=t.fillRandomList.bind(Object(l.a)(t)),t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;this._asyncRequest=fetch("https://worldtimeapi.org/api/timezone").then((function(t){return t.json()})).then((function(e){return t.setState({responseList:e.slice()})})).then((function(){return t.fillRandomList()})).catch((function(t){return console.log(t)}))}},{key:"fillRandomList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this.state.responseList){for(var n=this.state.responseList.length-1,s=[],i=[],c=["Africa","America","Antarctica","Antarctica","Asia","Atlantic","Australia","Europe","Indian","Pacific"],a=0;a<e;){for(var r=Math.round(Math.random()*n),o=!1,l=0;l<c.length;++l){var u=new RegExp(c[l]);if(u.test(this.state.responseList[r])){o=!0;break}}!s.includes(r)&&o&&(s.push(r),a++)}s.forEach((function(e){return i.push(t.state.responseList[e])})),this.setState({randomList:i})}}},{key:"render",value:function(){var t=this.state.randomList;return null!==this.state.randomList?Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("h1",{children:"World time overview"}),Object(d.jsx)(p,{timeZone:"local"}),Object(d.jsx)("div",{className:"smallclocks",children:t.map((function(t,e){return Object(d.jsx)(j,{timeZone:t},e)}))}),Object(d.jsxs)("footer",{children:["Thanks to the creators of:",Object(d.jsx)("a",{href:"http://worldtimeapi.org/",rel:"noreferrer noopener",target:"_blank",children:"http://worldtimeapi.org/"})]})]}):Object(d.jsx)("div",{className:"app"})}}]),n}(i.a.Component);n(18);a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.2d3ce082.chunk.js.map